/*  OJECT-TOOLS
------------------------------------------------------------------------------------------------------ */

@mixin grp-object-tools {
    @include horizontal-list(5px, left);
    position: relative;
    float: right;
    top: -40px;
    margin: 0 0 -40px;

    a {
        display: block;
        padding: 4px 15px;
        font-weight: bold;
        border-radius: 30px;
        color: #fff;
        border: 1px solid #777;
        opacity: .5;
        background-image: linear-gradient(#999, #888);

        &.grp-state-focus {
            opacity: 1;
        }

        &:hover {
            opacity: 1;
            border: 1px solid #2987a6;
            background-image: linear-gradient(#36b0d9, #36b0d9);
        }

        &.grp-add-link {
            padding-left: 28px;
            @include grp-background-gradient-icon-combo($object-tools-add-link, #666, #444,
                false,
                false);

            &:hover {
                @include grp-background-gradient-icon-combo($object-tools-add-link, #36b0d9, #309bbf,
                    false,
                    false);
            }
        }

        &.grp-viewsite-link,
        &[target="_blank"] {
            padding-left: 28px;
            @include grp-background-gradient-icon-combo($object-tools-viewsite-link, #999, #888,
                false,
                false);

            &:hover {
                @include grp-background-gradient-icon-combo($object-tools-viewsite-link, #36b0d9, #309bbf,
                    false,
                    false);
            }
        }

        &.grp-edit-link {}
    }
}

.grp-object-tools {
    @include grp-object-tools;
}



/*  TOOLS
------------------------------------------------------------------------------------------------------ */

@mixin grp-tools {
    @include horizontal-list(1px, left);
    position: relative;
    float: right;
    top: -24px;
    margin: 0 0 -24px;
    padding-right: 5px;
    height: 24px;
    white-space: nowrap;

    li {
        .grp-tools-container & {
            // IE9 needs that, otherwise the tools break in oversized tabular modules
            float: none !important;
            display: inline-block;
        }
    }

    a,
    span {
        display: block;
        width: 24px;
        height: 24px;

        &.grp-icon-text,
        &.grp-text {
            padding-left: 24px;
            padding-right: 6px;
            width: auto;
            line-height: 24px;
            color: $grp-link-color-hover;

            &:hover {
                color: $grp-link-color;
            }
        }

        &.grp-text {
            padding-left: 8px;
        }
    }

    a.grp-add-handler {
        @include grp-icon-sprite($tools-add-handler);

        &:hover {
            @include grp-icon-sprite($tools-add-handler-hover);
        }
    }

    a.grp-delete-handler {
        @include grp-icon-sprite($tools-delete-handler);

        &:hover {
            @include grp-icon-sprite($tools-delete-handler-hover);
        }

        .grp-predelete & {
            @include grp-icon-sprite($tools-delete-handler-predelete);
        }
    }

    a.grp-remove-handler {
        @include grp-icon-sprite($tools-remove-handler);

        &:hover {
            @include grp-icon-sprite($tools-remove-handler-hover);
        }
    }

    a.grp-drag-handler {
        @include grp-icon-sprite($tools-drag-handler);

        &:hover {
            @include grp-icon-sprite($tools-drag-handler-hover);
        }
    }

    a.grp-viewsite-link {
        @include grp-icon-sprite($tools-viewsite-link);

        &:hover {
            @include grp-icon-sprite($tools-viewsite-link-hover);
        }
    }

    a.grp-edit-link {
        @include grp-icon-sprite($tools-edit-handler);

        &:hover {
            @include grp-icon-sprite($tools-edit-handler-hover);
        }
    }

    a.grp-open-handler {
        @include grp-icon-sprite($tools-open-handler);

        &:hover {
            @include grp-icon-sprite($tools-open-handler-hover);
        }
    }

    a.grp-close-handler {
        @include grp-icon-sprite($tools-close-handler);

        &:hover {
            @include grp-icon-sprite($tools-close-handler-hover);
        }
    }

    a.grp-arrow-down-handler {
        @include grp-icon-sprite($tools-arrow-down-handler);

        &:hover {
            @include grp-icon-sprite($tools-arrow-down-handler-hover);
        }
    }

    a.grp-arrow-up-handler {
        @include grp-icon-sprite($tools-arrow-up-handler);

        &:hover {
            @include grp-icon-sprite($tools-arrow-up-handler-hover);
        }
    }

    a.grp-trash-handler {
        @include grp-icon-sprite($tools-trash-handler);

        &:hover {
            @include grp-icon-sprite($tools-trash-handler-hover);
        }
    }

    a.grp-trash-list-toggle-handler {
        @include grp-icon-sprite($tools-trash-list-toggle-handler);

        &:hover {
            @include grp-icon-sprite($tools-trash-list-toggle-handler-hover);
        }
    }

    input {
        position: absolute;
        top: -30px;
    }
}

.grp-tools {
    @include grp-tools;

    span {
        color: transparent !important;
        cursor: default !important;
    }
}


/*  Tools in modules ................................................... */

.grp-module {
    >h2+.grp-tools {
        top: -26px;
        right: 1px;
        margin-bottom: -26px;
    }

    .grp-row>.grp-tools {
        top: -4px;
        right: -9px;
    }

    >h3+.grp-tools {
        top: -25px;
        margin-bottom: -25px;
    }

    &.grp-closed>h3+.grp-tools {
        top: -24px;
        margin-bottom: -24px;
    }
}

fieldset.grp-module {
    .grp-row>.grp-tools {
        top: 0;
    }
}


/*  Tools in groups ................................................... */

.grp-group {
    >h2+.grp-tools {
        top: -28px;
        right: 1px;
        margin-bottom: -28px;
    }

    &.grp-closed>h2+.grp-tools {
        top: -26px;
        right: 1px;
        margin-bottom: -26px;
    }
}

.grp-group.grp-tabular h2+.grp-tools {
    top: -27px;
    right: 1px;
    margin-bottom: -27px;
}


/*  Tools Container ................................................... */

.grp-tools-container .grp-tools {
    top: 0;
    right: -20px;
    margin-bottom: 0;
}


/*  Tools module.add-item ................................................... */

.grp-module.grp-add-item .grp-tools {
    top: 2px;
}




/*  Related widget tools ................................................... */

.grp-related-widget-wrapper {
    position: relative;
    float: left;
    display: flex;
}

.grp-tools.grp-related-widget-tools {
    top: 2px;
    z-index: 1;

    li {
        padding: 0;
    }

    a {
        position: relative;
        display: inline-block;
        vertical-align: top;
        font-size: 11px;
        line-height: 16px;
        width: 21px;
        height: 21px;

        &.add-another {
            top: 0;
            margin: 0;
        }
    }

    .radiolist+&,
    .checkboxlist+&,
    .grp-related-widget+& {
        position: relative;
        display: flex;
        float: right;
        right: 0;
        padding-left: 0;
        margin-right: 0;
        margin-left: 5px;
    }

    .radiolist+&,
    .checkboxlist+& {
        top: 2px;
        margin-left: 20px;
    }
}